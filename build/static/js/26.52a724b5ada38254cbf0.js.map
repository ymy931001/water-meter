{"version":3,"sources":["webpack:///src/components/addCount/areaList.vue","webpack:///./src/components/addCount/areaList.vue?e1e7","webpack:///./src/components/addCount/areaList.vue"],"names":["areaList","data","_this","this","id","then","res","extends_default","val","oid","pid","_this2","_this3","commit","_this4","leadSubordinatesList","manageArea","map","userId","_this5","districtId","cityId","provinceId","_this6","value","getProvince","getUserIfo","getWaterMerchantIds","provScroll","cityScroll","areaScroll","addCount_areaList","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","_l","item","key","on","click","$event","getCity","attrs","filter","length","hidden","_s","district","clearArea","directives","name","rawName","expression","getArea","for","type","justify","align","span","domProps","checked","Array","isArray","_i","change","$$a","$$el","target","$$c","$$v","$$i","concat","slice","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.52a724b5ada38254cbf0.js","sourcesContent":["<template>\n  <div class=\"areaList\">\n      <div class=\"area-select\">\n        <div class=\"province\">\n            <p>选择省</p>\n            \n                <div class=\"province-item\" ref=\"provScroll\">\n                    <div>\n                        <li v-for=\"item in province\" :key=\"item.id\" @click=\"getCity(item.id)\" >\n                            <el-badge :value=\"manageArea.filter(val=>val.oid==item.id).length\" :hidden=\"!manageArea.filter(val=>val.oid==item.id).length>0\">\n                            {{item.district}}\n                            </el-badge>\n                            \n                        </li>\n                    </div>\n                </div>\n\n\n        </div>\n        <div class=\"district\">\n            <div class=\"clear-area\">\n                <el-button @click=\"clearArea\">清空</el-button>\n            </div>\n            <div v-show=\"isSelect\" class=\"city\" ref=\"cityScroll\">\n                <div >\n                    <el-button v-for=\"item in city\" :key=\"item.id\" @click=\"getArea(item.id,item.pid)\">\n                        <el-badge :value=\"manageArea.filter(val=>val.pid==item.id).length\" :hidden=\"!manageArea.filter(val=>val.pid==item.id).length>0\">\n                            {{item.district}}\n                        </el-badge>\n                    </el-button>\n\n                </div>\n            </div>\n            <div v-show=\"areaList.length>0\" class=\"area-list\" > \n                \n                <div class=\"area\" ref=\"areaScroll\">\n                    <div>\n                        <label :for=\"item.id\"  v-for=\"item in areaList\" :key=\"item.id\">\n                            <el-row class=\"areaitem\" type=\"flex\" justify=\"space-between\" align=\"middle\">\n                                \n                                <el-col :span=\"20\">\n                                    {{item.district}}\n                                </el-col>   \n                                <el-col :span=\"3\">\n                                    <input type=\"checkbox\" v-model=\"manageArea\"  :id=\"item.id\" :value=\"{id:item.id,pid:item.pid,oid:item.oid}\">\n                                    <div class=\"checklabel\"></div>\n                                </el-col>\n                                \n                            </el-row> \n                        </label>\n\n                    </div>\n\n                </div>\n                <div class=\"area-confirm\">\n                    <el-button @click=\"commit\">确定</el-button>\n                </div>\n\n            </div>\n\n        </div>\n      </div>\n      \n  </div>\n</template>\n\n<script>\nimport BScroll from 'better-scroll'\nexport default {\n  components:{},\n  props:{},\n  data(){\n    return {\n        areaList:[],\n        manageArea:[],\n        province:[],\n        city:[],\n        provinceId:'',\n        cityId:'',\n        isSelect:false\n    }\n  },\n  watch:{\n      manageArea(data){\n          console.log(data)\n      }\n  },\n  computed:{},\n  methods:{\n      initScroll(SCobj){\n            new BScroll(SCobj,{\n                scrollY:true,\n                click:true,\n            })\n\t\t},\n      getArea(id,pid){\n          this.cityId=id\n          this.$http.get('/weiXin/api/v1/common/getAreaByPid',{\n              id:id\n          })\n          .then(res=>{\n              if(res){\n                  this.areaList=res.data.data.map(val=>{\n                      return {\n                          ...val,oid:pid\n                      }\n                  })\n                  this.isSelect=false\n              }\n          })\n      },\n      getProvince(){\n          this.$http.get('/weiXin/api/v1/common/getAreaByPid',{\n              id:1\n          })\n          .then(res=>{\n              if(res){\n                  this.province=res.data.data\n                  \n              }\n          })\n      },\n      getCity(id,ev){\n        //   ev.path[0].focus()\n          this.provinceId=id\n          this.$http.get('/weiXin/api/v1/common/getAreaByPid',{\n              id:id\n          })\n          .then(res=>{\n              if(res){\n                  this.city=res.data.data\n                  this.isSelect=true\n              }\n          })\n      },\n      clearArea(){\n          this.manageArea=[]\n          this.commit()\n      },\n      commit(){\n          this.$http.post('/weiXin/api/v1/user/managerSetManagerAreas',{\n              \"leadSubordinatesList\": \n                this.manageArea.map(val=>{\n                    return{\n                    \"cityId\": val.pid,\n                    \"districtId\": val.id,\n                    \"provinceId\": val.oid,\n                    }\n                })\n              ,\n              \"userId\": this.$route.query.userId\n          },{\n              'Content-Type': 'application/json'\n          },true)\n          .then(res=>{\n              if(res){\n                  this.$router.go(-1)\n              }\n          })\n      },\n      getUserIfo(){\n          this.$http.get('/weiXin/api/v1/user/selectLeadSubordinatesByUserId',{\n              userId:this.$route.query.userId\n          })\n          .then(res=>{\n              if(res){\n                  this.manageArea=res.data.data.map(val=>{\n                      return{\n                          id:val.districtId,\n                          pid:val.cityId,\n                          oid:val.provinceId\n                      }\n                  })\n              }\n          })\n      },\n      getWaterMerchantIds(){\n          this.$http.get('/weiXin/api/v1/WaterMerchantIds/getWaterMerchantIds')\n          .then(res=>{\n              if(res){\n                  var value =res.data.data.map(link=>{\n                      return {\n                          id:link.districtId,\n                          pid:link.cityId,\n                          oid:link.provinceId\n                      }\n                  }) \n                  \n                this.manageArea = this.manageArea.concat(value)\n              }\n          })\n      }\n  },\n  created(){\n      this.getProvince()\n      this.getUserIfo()\n      this.getWaterMerchantIds()\n  },\n  mounted(){\n      \n      this.initScroll(this.$refs.provScroll)\n      this.initScroll(this.$refs.cityScroll)\n      this.initScroll(this.$refs.areaScroll)\n  }\n}\n</script>\n<style  lang=\"less\">\n.areaList{\n    \n    margin-top: 10px;\n    .area-select{\n        display: flex;\n        height: 85vh;\n        .el-badge__content{\n            right: 0;\n        }\n        .province{\n            flex-shrink:0;\n            width: 150px;\n            display: flex;\n            flex-direction: column;\n            >p{\n                text-align: center;\n                font-weight: bold;\n                font-size: 15px;\n            }\n        }\n        .province-item{\n            \n            flex: 1;\n            overflow: scroll;\n            width: 100%;\n            \n            >div{\n                min-height:calc(100% + 1px) ;\n                \n            }\n            li{\n                padding: 10px 2px;\n                text-align: center;\n                cursor: pointer;\n            }\n            \n            // li:focus{\n            //     color: #686b6a;\n            //     background: #d5dbd9;\n            // }\n            // li:active{\n            //     color: #686b6a;\n            //     background: #d5dbd9;\n            // }\n            \n            \n        }\n        .district{\n            width: 100%;\n            \n            position: relative;\n            display: flex;\n            flex-direction: column;\n            .clear-area{\n                width: 100%;\n                button{\n                    width: 80%;\n                    display: block;\n                    margin: auto;\n                    padding: 5px;\n                }\n            }\n            .city{\n                overflow-y:scroll;\n                position: absolute;\n                top: 40px;\n                width: 100%;\n                height: 94%;\n                z-index: 500;\n                background: #f8f8f8;\n                >div{\n                    width: 100%;\n                    min-height: calc(100% + 1px);\n                    .el-button{\n                        height: 40px;\n                        margin: 5px  ;\n                        width: 45%;\n                    }\n                }\n            }\n            .area-list{\n                height:100%;\n                display: flex;\n                flex-direction: column;\n                justify-content: space-between;\n            }\n            .area-confirm{\n                \n                width: 100%;\n                button{\n                    width: 80%;\n                    margin: auto;\n                    display: block;\n\n                }\n            }\n        }\n    }\n    .area{\n        width: 100%;\n        background: #f8f8f8;\n        overflow-y: scroll;\n        >div{\n            min-height: calc(100% + 1px)\n        }\n    }\n    .areaitem{\n        border:1px solid #f8f8f8;\n        margin: 5px 15px;\n        border-radius: 5px;\n        cursor:pointer;\n        background: #f8f8f8;\n        color: rgb(134, 134, 134);\n        padding: 5px 0;\n        .checklabel{\n            position: relative;\n            border-radius: 50%;\n            width: 20px;\n            height:20px;\n            background: #fff;\n        }\n        input[type=\"checkbox\"]{\n            display: none;\n        }\n        input[type=\"checkbox\"]:checked + .checklabel::after{\n            position: absolute;\n            top: -3px;\n            right: 2px;\n            content: \"\\2714\";\n            font-size: 20px;\n            color: rgb(49, 135, 247)\n        }\n    }\n    .areaitem:hover{\n        \n            color: #686b6a;\n            background: #d5dbd9;\n        \n    }\n    // .arealist:active{\n    //     background:rgb(77, 149, 243)\n    // }\n    .areaTitle{\n        padding: 0;\n        padding-top: 10px;\n        .el-col{\n            text-align: right;\n            button{\n                margin-right: 15px;\n            }\n        }\n    }\n    .areaMenu{\n        height: 60vh;\n        overflow: scroll;\n    }\n    \n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/addCount/areaList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"areaList\"},[_c('div',{staticClass:\"area-select\"},[_c('div',{staticClass:\"province\"},[_c('p',[_vm._v(\"选择省\")]),_vm._v(\" \"),_c('div',{ref:\"provScroll\",staticClass:\"province-item\"},[_c('div',_vm._l((_vm.province),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){_vm.getCity(item.id)}}},[_c('el-badge',{attrs:{\"value\":_vm.manageArea.filter(function (val){ return val.oid==item.id; }).length,\"hidden\":!_vm.manageArea.filter(function (val){ return val.oid==item.id; }).length>0}},[_vm._v(\"\\n                          \"+_vm._s(item.district)+\"\\n                          \")])],1)}))])]),_vm._v(\" \"),_c('div',{staticClass:\"district\"},[_c('div',{staticClass:\"clear-area\"},[_c('el-button',{on:{\"click\":_vm.clearArea}},[_vm._v(\"清空\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSelect),expression:\"isSelect\"}],ref:\"cityScroll\",staticClass:\"city\"},[_c('div',_vm._l((_vm.city),function(item){return _c('el-button',{key:item.id,on:{\"click\":function($event){_vm.getArea(item.id,item.pid)}}},[_c('el-badge',{attrs:{\"value\":_vm.manageArea.filter(function (val){ return val.pid==item.id; }).length,\"hidden\":!_vm.manageArea.filter(function (val){ return val.pid==item.id; }).length>0}},[_vm._v(\"\\n                          \"+_vm._s(item.district)+\"\\n                      \")])],1)}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.areaList.length>0),expression:\"areaList.length>0\"}],staticClass:\"area-list\"},[_c('div',{ref:\"areaScroll\",staticClass:\"area\"},[_c('div',_vm._l((_vm.areaList),function(item){return _c('label',{key:item.id,attrs:{\"for\":item.id}},[_c('el-row',{staticClass:\"areaitem\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":20}},[_vm._v(\"\\n                                  \"+_vm._s(item.district)+\"\\n                              \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manageArea),expression:\"manageArea\"}],attrs:{\"type\":\"checkbox\",\"id\":item.id},domProps:{\"value\":{id:item.id,pid:item.pid,oid:item.oid},\"checked\":Array.isArray(_vm.manageArea)?_vm._i(_vm.manageArea,{id:item.id,pid:item.pid,oid:item.oid})>-1:(_vm.manageArea)},on:{\"change\":function($event){var $$a=_vm.manageArea,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v={id:item.id,pid:item.pid,oid:item.oid},$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.manageArea=$$a.concat([$$v]))}else{$$i>-1&&(_vm.manageArea=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.manageArea=$$c}}}}),_vm._v(\" \"),_c('div',{staticClass:\"checklabel\"})])],1)],1)}))]),_vm._v(\" \"),_c('div',{staticClass:\"area-confirm\"},[_c('el-button',{on:{\"click\":_vm.commit}},[_vm._v(\"确定\")])],1)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57ab6d28\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/addCount/areaList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57ab6d28\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./areaList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./areaList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57ab6d28\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./areaList.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/addCount/areaList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
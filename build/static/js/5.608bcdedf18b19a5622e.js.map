{"version":3,"sources":["webpack:///src/components/list/invented/invented.vue","webpack:///./src/components/list/invented/invented.vue?f4b6","webpack:///./src/components/list/invented/invented.vue","webpack:///src/components/list/coloterManage/coloterManage.vue","webpack:///./src/components/list/coloterManage/coloterManage.vue?8c96","webpack:///./src/components/list/coloterManage/coloterManage.vue"],"names":["invented","edit","cityId","CollectorNum","consumerUname","deviceNumber","districtDetail","districtId","districtSite","houseNumber","latitude","longitude","provinceId","telephone","type","val","id","_this","this","then","res","water","data","$message","message","JSON","parse","length","searchData","catch","_this2","eid","index","_this3","refresh","_","finishPullDown","errorList","waterOrign","_this5","err","_this6","push","extends_default","trueId","getTime","result","meters","setup","_this7","action","_this8","_ref","value","_this9","list","remark","ind","resolve","_this10","inventWrapper","invented_invented","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","size","on","click","offlineSetUp","_v","creatVirtual","ref","directives","name","rawName","expression","accordion","change","handleChange","model","callback","$$v","activeName","_l","item","key","slot","_s","$event","stopPropagation","replace","remove","addEquip","staticStyle","padding-left","width","row-class-name","row","offline","selection-change","handleSelectionChange","prop","label","scopedSlots","_u","fn","text-align","deleteWater","$refs","edition","show","listDate","_e","title","visible","dialogVisible","update:visible","placeholder","confirm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","coloterManage","QR","more","_iteratorNormalCompletion","_step","array","qrId","newdata","transform","Obj","_tableData","arr","oneData","pageNum","cid","done","_this4","deviceNum","num","onedata","onLineSum","offLineSum","generalQuantitySum","completeDistrict","signalIntensity","baseStation","collectorScroll","searchoneData","_tableData2","coloterManage_coloterManage","justify","span","icon","$router","path","query","hideMenu","checkList","isDown","border","_f","tableData","collectorSelectionChange","toString","$index","waterNum","collectClick","test","reText","class","waterRowClassName","onlineStatus","deviceId","command","upload"],"mappings":"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","file":"static/js/5.608bcdedf18b19a5622e.js","sourcesContent":["<template>\n  <div id=\"invented\">\n    <div class=\"opera\">\n        <el-button size=\"mini\" type=\"primary\" class=\"add\" @click=\"offlineSetUp\">离线录入</el-button>\n        <el-button size=\"mini\" type=\"primary\" class=\"add\" @click=\"creatVirtual\" >添加采集器</el-button>\n    </div>\n    <div class=\"cloWra\" ref=\"inventWrapper\">\n        <div>\n            <el-collapse  accordion class=\"elist\" v-loading=\"freshData\" v-model=\"activeName\" @change=\"handleChange\">\n                <el-collapse-item  :name=\"item.id\" v-for=\"(item,index) in listDate\" :key=\"item.ind\" >\n                    <template slot=\"title\">\n                            <div class=\"invtitle\">\n                                <p>编号：{{item.id}}</p>\n                                <div>\n                                    <span class=\"replace\" @click.stop=\"replace(item.id,item,index)\">替换</span> \n                                    <span class=\"remove\"  @click.stop=\"remove(item.id)\" >删除</span>\n                                </div> \n                            </div>\n                    </template>\n                    \n                    <div class=\"item-opera\">\n                        <p class=\"tip\">备注：{{item.remark}}</p>\n                        \n                        <el-button size=\"mini\" type=\"primary\" class=\"add\" @click=\"addEquip\">水表录入</el-button>\n\n                        \n                    </div>\n                    <p style=\"padding-left:15px;\">当前录入数量：{{item.list.length}}</p>\n                    <el-table\n                    :data=\"item.list\"\n                    @selection-change=\"handleSelectionChange\"\n                    :row-class-name=\"({row})=>row.offline&&'offline'\"\n                    style=\"width: 100%\">\n                        <el-table-column\n                            prop=\"deviceNumber\"\n                            label=\"设备编号\"\n                        >\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"houseNumber\"\n                            label=\"设备位置\"\n                            >\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"setupDatetime\"\n                            label=\"录入时间\"\n                            >\n                        </el-table-column>\n                        <el-table-column\n                        label=\"操作\"\n                        >\n                        <template slot-scope=\"water\" >\n                            <div style=\"text-align:center\" >\n                                <el-button size=\"mini\" type=\"text\" @click=\"deleteWater(item.list,water.row.deviceNumber,water.row,water)\">删除</el-button> <span></span>\n                                <el-button size=\"mini\" type=\"text\" @click=\"$refs.edition.show(water.row)\">详情</el-button>\n\n                            </div>\n                        </template>\n                        </el-table-column>\n                    </el-table>\n                    \n                </el-collapse-item>\n            </el-collapse>\n            <div class=\"origintip\" v-if=\"this.listDate.length==0\">\n                <i class=\"el-icon-warning\"></i>\n                <span>您还未创建虚拟采集器,点击右上角添加创建虚拟采集器</span>\n            </div>\n        </div>\n    </div>\n    <el-dialog\n        title=\"提示\"\n        :visible.sync=\"dialogVisible\"\n        width=\"30%\">\n        <span>请输入新的设备ID,点击确认替换成功后,该虚拟采集器将被删除</span>\n        <br><br>\n        <div>\n            虚拟采集器ID：{{id}}\n        </div>\n        <div id=\"remarks\">\n            新的设备ID<el-input v-model=\"trueId\" placeholder=\"请输入ID\"></el-input>\n        </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click =\"confirm(trueId)\">确 定</el-button>\n        </span>\n    </el-dialog>\n\n    <edit ref=\"edition\" ></edit>\n  </div>\n</template>\n\n<script>\n\nconst PAGESIZE = 10  //每页显示数量\n\nimport BScroll from 'better-scroll'\nimport edit from '@/components/list/coloterManage/edit.vue'\nimport {removeStorage} from '@/assets/js/offline.js'\nexport default {\n  components:{\n      edit\n  },\n  props:{},\n  data(){\n    return {\n        activeName:'',\n        freshData:false,\n        marks:\"备注\",\n        id:'',          //当前选择的虚拟设备ID\n        trueId:'',\n        listDate:[],\n        dialogVisible: false,\n        tableData: [],\n        multipleSelection: [],\n        inventSCroll:null,\n        data:[\n            {\"cityId\":383,\"CollectorNum\":\"19110722\",\"consumerUname\":\"\",\"deviceNumber\":\"1509800029\",\"districtDetail\":\"钱江路-\",\"districtId\":3234,\"districtSite\":\"\",\"houseNumber\":\"101\",\"latitude\":30.25924446,\"longitude\":120.21937542,\"provinceId\":31,\"telephone\":\"\",\"type\":3},\n            {\"cityId\":383,\"CollectorNum\":\"19110722\",\"consumerUname\":\"\",\"deviceNumber\":\"1509800068\",\"districtDetail\":\"钱江路-\",\"districtId\":3234,\"districtSite\":\"\",\"houseNumber\":\"102\",\"latitude\":30.25924446,\"longitude\":120.21937542,\"provinceId\":31,\"telephone\":\"\",\"type\":3}\n            ]\n    }\n  },\n  watch:{},\n  computed:{\n      \n  },\n  methods:{\n      handleChange(val){\n          this.id = val\n      },\n      handleSelectionChange(val) {    //选择水表\n        this.multipleSelection = val;\n      },\n      addEquip(){\n          this.$router.push({\n              path:\"/watermeter\",\n              query:{inventedID:this.id}\n              })\n      },\n      offlineSetUp(){\n          this.water.forEach(val=>{\n              val.collectorNum = val.CollectorNum\n          }) \n          this.$confirm('是否导入所有离线设备','提示',{\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            })\n          .then(res=>{\n              if(this.water.length>0){\n                  this.$http.post('/weiXin/api/v1/deviceManager/bashGeneralInstall',\n                      this.water\n                  ,{\n                        'Content-Type': 'application/json;'\n                    },true)\n                  .then(res=>{\n                      if(res){\n                        //   removeStorage('watermeter',this.water)\n                        \n                          if(res.data.data){\n                            localStorage.setItem('watermeter',res.data.data)\n                            this.$message(\n                              {type:'error',message:`${JSON.parse(res.data.data).length}个设备导入失败`}\n                            )\n                          }else{\n                              this.$message(\n                              {type:'success',message:'导入成功'}\n                              )\n                          }\n                          \n                          this.searchData()\n                      }\n                  })\n\n              }else{\n                  this.$message(\n                        {type:'error',message:'暂无离线设备'}\n                    )\n              }\n          })\n          .catch(()=>{\n              \n          })\n          \n      },\n      deleteWater(table,id,row,water){\n        this.$confirm('是否删除水表 ' ,'提示',{\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n\t\t})\n\t\t.then(() => {\n            if(row.offline){\n                removeStorage('watermeter',id)\n                table.splice(water.$index,1)\n                this.$message({\n                type: 'success',\n                message: '删除成功!'\n                });\n            }else{\n                this.$http.get('/weiXin/api/v1/deviceMend/deleteDevice',{\n                  deviceNum:id,\n                  deviceType:3\n                })\n                .then(res=>{\n                    \n                    if(res){\n                        table.forEach((item,ind)=>{\n              \n                            if(item.deviceNumber==id){\n                                table.splice(ind,1)\n                            }\n                                \n                        })\n                        this.$message({\n                        type: 'success',\n                        message: '删除成功!'\n                        });\n                    }\n                })\n\n            }\n\n            \n\t\t})\n\t\t.catch(() => {  \n\t\t})\n          \n      },\n      replace(eid,item,index){\n          this.dialogVisible = true\n          this.id = eid\n          this.replaceIndex = index\n      },\n      initScroll(Obj,SCobj){\n          if( !Obj ){\n           Obj = new BScroll(SCobj,{\n               click:true,\n               pullDownRefresh:{\n                threshold: 55,\n                txt:'刷新'\n                },\t\t\t   \n            })\n            Obj.on('pullingDown',()=>{\n                this.searchData()\n                .then(_=>{\n                    Obj.refresh()\n                    Obj.finishPullDown();\n                })\n                    \n             \n            })\n\t\t  }else{\n\t\t\t  Obj.refresh()\n          }\n          \n        },\n      installWater(waterOrign,result){ //返回失败的水表\n          return this.$http.post('/weiXin/api/v1/deviceManager/bashGeneralInstall',result,{\n                'Content-Type': 'application/json;'\n            },true)\n            .then(res=>{\n                if(res){\n                    if(res.data.data){\n                        var errorList = JSON.parse(res.data.data)\n                        errorList.forEach(e=>{\n                            e.CollectorNum = this.id\n                        })\n                       waterOrign=waterOrign.concat(errorList)\n                       localStorage.setItem('watermeter',JSON.stringify(waterOrign))\n                       this.water = waterOrign\n                       return  errorList\n                    }else{\n                        return []\n                    }\n                    \n                }\n            })\n      },\n      setup(){\n          this.$http.get('/weiXin/api/v1/virtualDevice/replaceVirtualCollectorNum',{deviceNumber:this.trueId,virtualCollectorId:this.id})\n            .then(res=>{\n                if(res.data.code==0){\n                    this.$message({\n                            type: 'success',\n                            message: \"替换成功\"\n                        })\n                    this.listDate.splice(this.replaceIndex,1)\n                    this.dialogVisible=false\n                    \n                }else{\n                    this.dialogVisible=false\n                    this.$message({\n                        type: 'error',\n                        message:res.data.message\n                        })\n                }\n            })\n            .catch(err=>{\n                this.dialogVisible=false\n            })\n      },\n      confirm(trueId){\n          if(this.water.length>0){//有离线设备\n                let waterOrign =JSON.parse(JSON.stringify(this.water))//缓存原始数据\n                var result = []\n\n                waterOrign = waterOrign.filter(val=>{//获取其中该采集器下的水表\n                    if(val.CollectorNum == this.id){\n                        result.push(\n                            {\n                            ...val,\n                            \"collectorNum\": this.trueId,\n                            \"type\": 3,\n                            'time':new Date().getTime()\n                            }\n                        ) \n                        return false\n                    }else{\n                        return true\n                    }\n                })\n                if(result.length>0){\n                    this.installWater(waterOrign,result)\n                    .then(meters=>{\n                        if(meters.length == 0){ //没有失败的水表\n                            this.setup()\n                            localStorage.setItem('watermeter',JSON.stringify(waterOrign)) //删除成功的水表并更新            \n                        }else{\n                            this.searchData()\n                            this.$message({\n                                type: 'error',\n                                message: \"部分水表安装失败\"\n                            })\n                            this.dialogVisible=false\n                        }\n                    })\n\n                }\n\n          }else{\n              this.setup()\n          }\n          \n      },\n      remove(id) {\n        this.$confirm('是否删除虚拟机？', '确认信息', {\n          distinguishCancelAndClose: true,\n          confirmButtonText: '确认',\n          cancelButtonText: '取消'\n        })\n          .then(() => {\n              \n            this.$http.get('/weiXin/api/v1/virtualDevice/deleteVirtualCollectorNum',{\n                virtualCollectorId:id\n                }) .then(res=>{\n                if(res.data.code==0){\n                    this.listDate.forEach((val,ind)=>{\n                        if(val.id==id){\n                            this.listDate.splice(ind,1)\n                        }\n                    })\n                    \n                }else if(res.data.code==24){\n                    this.$message({\n                        type:'error',\n                        message:'该设备下仍挂接水表不能删除,请点击替换设备'\n                    })\n                }else{\n                    this.$message({\n                        type:'error',\n                        message:'删除失败'\n                    })\n                }\n            })\n          })\n          .catch(action => {\n            // this.$message({\n            //   type: 'info',\n            //   message: action === 'cancel'\n            //     ? '已取消删除'\n            //     : '删除成功'\n            // })\n          });\n      },\n\n      creatVirtual() {\n        this.$prompt('请输入备注信息', '添加采集器', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            inputValidator:function(res){\n                if(res==null){\n                    return false\n                }\n            },\n            inputErrorMessage:'请输入备注'\n        }).then(({ value }) => {\n            this.$http.get('/weiXin/api/v1/virtualDevice/getVirtualCollectorNum',{remark:value})\n            .then(res=>{\n                if(res.data.code==0){\n                    this.listDate.push({\n                        id:res.data.data,\n                        remark:value,\n                        list:[],\n                        ind:Math.random(10)\n                    })\n\n                }else{\n                    this.$message({\n                        type:'info',\n                        message:'添加失败'\n                    })\n                }\n            })\n        }).catch(() => {\n            // this.$message({\n            // type: 'info',\n            // message: '取消输入'\n            // });       \n        });\n      },\n      //获取数据\n      searchData(){\n        this.water = localStorage.getItem('watermeter')?JSON.parse(localStorage.getItem('watermeter')):[] //缓存的离线水表数据\n        return new Promise(resolve=>{\n            this.freshData=true\n            this.$http.get('/weiXin/api/v1/virtualDevice/getAllVirtualCollectorNum',{\n                pageNum:1,\n                pageSize:200,//懒得做分页\n            })\n            .then(res=>{\n                this.freshData=false\n                \n                let list = res.data.data.map((val,ind)=>{\n                    let list = val.list\n                    this.water&&this.water.forEach(water=>{\n                        if(water.CollectorNum == val.id){\n                            water.offline = true\n                            list.push(water)\n                        }\n                    })\n                    return{\n                    id:val.id,\n                    remark:val.remark,\n                    list:list,\n                    ind:ind\n                }\n                    \n                })\n                this.listDate=list\n                \n                resolve()\n            })\n        })\n      },\n  },\n  created(){\n      this.searchData();\n  },\n  mounted(){\n      \n      this.$nextTick(()=>{\n            this.initScroll(this.inventScroll,this.$refs.inventWrapper);\n        });\n  }\n}\n</script>\n<style  lang=\"less\">\n\n    #invented{\n        .cloWra{\n            height: 78vh;\n            overflow:hidden;\n            >div{\n                min-height: calc(100% + 1px)\n            }\n        }\n        .elist{\n            margin-bottom: 50px;\n            .el-collapse-item__header{\n                height: 40px;\n                line-height: 40px;\n                display: flex;\n                justify-content: space-between;\n                .invtitle{\n                    display: flex;\n                    justify-content: space-between;\n                    padding:0 15px;\n                    width: 90%;\n                    order: -1;\n                    .remove{\n                        color: #b4aeae;\n                        margin: 15px 40px 0 15px;\n                        height: 15px;\n                        padding-left:  15px;\n                        border-left: 1px solid #b8b3b3;\n                    }\n                    .replace{\n                        color: #FC5B3B;\n                        margin: 15px 0px 0 15px;\n                        height: 15px;\n                        padding-left:  15px;\n                    }\n                    \n                }   \n            }\n            .offline{\n                color: red;\n            }\n                \n        }\n        .opera{\n                padding: 0 20px 10px 20px;\n                display: flex;\n                justify-content: flex-end;\n                align-items: center;\n                button{\n                    border:0;\n                }\n                .add{\n                    background: #FC5B3B;\n                }\n            }\n        .item-opera{\n            display: flex;\n            justify-content: space-between;\n            margin: 0 15px;\n            .tip{\n                line-height: 25px;\n                text-align: left;\n                width: 40%;\n                white-space:pre-wrap;\n                word-wrap : break-word ;\n                overflow: hidden ;\n                // padding:0 20px 10px  15px;\n                \n            }\n            button{\n                \n            }\n        }\n        .origintip{\n            margin: 20px;\n            text-align: center;\n            font-size:19px;/* no*/ \n        }\n        .el-collapse-item__content{\n            .opera{\n                margin-top: 20px;\n                padding: 0 20px 0 20px;\n                display: flex;\n                justify-content: space-between;\n                button{\n                    border:0;\n                }\n                .add{\n                    background: #FC5B3B;\n                }\n            }\n        }\n        \n    }\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/list/invented/invented.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"invented\"}},[_c('div',{staticClass:\"opera\"},[_c('el-button',{staticClass:\"add\",attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.offlineSetUp}},[_vm._v(\"离线录入\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"add\",attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.creatVirtual}},[_vm._v(\"添加采集器\")])],1),_vm._v(\" \"),_c('div',{ref:\"inventWrapper\",staticClass:\"cloWra\"},[_c('div',[_c('el-collapse',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.freshData),expression:\"freshData\"}],staticClass:\"elist\",attrs:{\"accordion\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},_vm._l((_vm.listDate),function(item,index){return _c('el-collapse-item',{key:item.ind,attrs:{\"name\":item.id}},[_c('template',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"invtitle\"},[_c('p',[_vm._v(\"编号：\"+_vm._s(item.id))]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"replace\",on:{\"click\":function($event){$event.stopPropagation();_vm.replace(item.id,item,index)}}},[_vm._v(\"替换\")]),_vm._v(\" \"),_c('span',{staticClass:\"remove\",on:{\"click\":function($event){$event.stopPropagation();_vm.remove(item.id)}}},[_vm._v(\"删除\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"item-opera\"},[_c('p',{staticClass:\"tip\"},[_vm._v(\"备注：\"+_vm._s(item.remark))]),_vm._v(\" \"),_c('el-button',{staticClass:\"add\",attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.addEquip}},[_vm._v(\"水表录入\")])],1),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-left\":\"15px\"}},[_vm._v(\"当前录入数量：\"+_vm._s(item.list.length))]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":item.list,\"row-class-name\":function (ref){\n\tvar row = ref.row;\n\n\treturn row.offline&&'offline';\n}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"deviceNumber\",\"label\":\"设备编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseNumber\",\"label\":\"设备位置\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"setupDatetime\",\"label\":\"录入时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(water){return [_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.deleteWater(item.list,water.row.deviceNumber,water.row,water)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.$refs.edition.show(water.row)}}},[_vm._v(\"详情\")])],1)]}}])})],1)],2)})),_vm._v(\" \"),(this.listDate.length==0)?_c('div',{staticClass:\"origintip\"},[_c('i',{staticClass:\"el-icon-warning\"}),_vm._v(\" \"),_c('span',[_vm._v(\"您还未创建虚拟采集器,点击右上角添加创建虚拟采集器\")])]):_vm._e()],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_vm._v(\"请输入新的设备ID,点击确认替换成功后,该虚拟采集器将被删除\")]),_vm._v(\" \"),_c('br'),_c('br'),_vm._v(\" \"),_c('div',[_vm._v(\"\\n          虚拟采集器ID：\"+_vm._s(_vm.id)+\"\\n      \")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"remarks\"}},[_vm._v(\"\\n          新的设备ID\"),_c('el-input',{attrs:{\"placeholder\":\"请输入ID\"},model:{value:(_vm.trueId),callback:function ($$v) {_vm.trueId=$$v},expression:\"trueId\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.confirm(_vm.trueId)}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('edit',{ref:\"edition\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-630dbe72\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/list/invented/invented.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-630dbe72\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./invented.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./invented.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-630dbe72\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./invented.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/list/invented/invented.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"coloterManage\">\n\t  <header>\n\t\t\t<el-row type=\"flex\" justify=\"space-between\"  class=\"header-title\" >\n\t\t\t\t<el-col :span=\"4\">\n\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-arrow-left\" @click=\"$router.push('./nav')\" >返回</el-button>\n\t\t\t\t\t<!-- <el-button type=\"primary\" v-if=\"batchProcessing\" @click=\"quitBatch\">退出批量操作</el-button> -->\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"6\"><span>{{this.title}}</span></el-col>\n\t\t\t\t<el-col :span=\"4\" class=\"addColltector\">\n\t\t\t\t\t<more ref=\"moreOperation\">\n\t\t\t\t\t\t\t\t\t\t\t<ul slot=\"list\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li @click=\"$router.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath:'/collector',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery:{'type':2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\">添加采集器</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li @click=\"hideMenu\">菜单栏</li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</more>\n\t\t\t\t</el-col>\n\t\t\t</el-row>\n\t\t\t<div ref=\"waterMenu\" class=\"water-menu\">\n\t\t\t\t<div class=\"qrSearch\">\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tclass=\"idSearch\"\n\t\t\t\t\t\tplaceholder=\"编号/小区/门牌号\"\n\t\t\t\t\t\tv-model=\"oneData\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</el-input>\n\t\t\t\t\t<QR/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<el-row class=\"head-check\">\n\t\t\t\t\t\n\t\t\t\t\t<el-col :span=\"18\">\n\t\t\t\t\t\t<el-checkbox-group v-model=\"checkList\">\n\t\t\t\t\t\t\t<el-checkbox label=\"在线\">在线：{{onLineSum}}</el-checkbox>\n\t\t\t\t\t\t\t<el-checkbox label=\"离线\">离线：{{offLineSum}}</el-checkbox>\n\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"6\"><el-button type=\"text\" class=\"searchConfirm\" @click=\"searchoneData\">查询</el-button></el-col>\n\t\t\t\t\t\n\t\t\t\t</el-row>\n\t\t\t\t\n\t\t\t</div>\n\t  </header>\n\t  <div class=\"block \">\n\t\t<div class=\"isDown\" ref=\"isDown\" v-show=\"!isDown\">刷新数据</div>\n\t\t<div v-show=\"isDown\" ref=\"freshing\"><i class=\"el-icon-loading\"></i>刷新中</div>\n\t\t<div class=\"Wrapper\" ref=\"collectorScroll\">\n\t\t\t\n\t\t\t<div ref=\"wrapperContent\"> \n\t\t\t\t\n\t\t\t\t<el-table\n\t\t\t\t\tclass=\"searchResult\"\n\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\tborder\n\t\t\t\t\tref=\"multipleTable\"\n\t\t\t\t\t@selection-change=\"collectorSelectionChange\"\n\t\t\t\t\t:data=\"tableData | filtTableData(checkList)\"\n\t\t\t\t\tstyle=\"width: 100%\">\n\t\t\t\t\t<el-table-column\n                        :label=\"tableData | filtTableData(checkList) .length.toString()\"\n                        width=\"40\"\n                    >\n                    <template slot-scope=\"{$index}\">\n                           {{$index+1}} \n                    </template>\n                    </el-table-column>\n\t\t\t\t\t<el-table-column\n\t\t\t\t\t\tprop=\"id\"\n\t\t\t\t\t\tlabel=\"采集器编号\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t\n\t\t\t\t\t<el-table-column\n\t\t\t\t\t\tprop=\"districtDetail\"\n\t\t\t\t\t\tlabel=\"详细地址\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column\n\t\t\t\t\t\tprop=\"districtSite\"\n\t\t\t\t\t\tlabel=\"小区\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t\n\t\t\t\t\t<el-table-column\n\t\t\t\t\t\tprop=\"houseNumber\"\n\t\t\t\t\t\tlabel=\"具体位置\"\n\t\t\t\t\t\t\n\t\t\t\t\t\t>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column\n\t\t\t\t\t\t\n\t\t\t\t\t\tlabel=\"水表数量\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<template slot-scope=\"{ row }\">\n\t\t\t\t\t\t\t\t{{row.waterNum}}\n\t\t\t\t\t\t\t\t<span class=\"waterDetail\" @click.stop=\"collectClick(row)\">详情</span>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column\n\t\t\t\t\t\tlabel=\"轮询测试\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<template slot-scope=\"{ row }\">\n\t\t\t\t\t\t\t\t{{row.test}}\n\t\t\t\t\t\t\t\t<span class=\"waterDetail\"  @click.stop=\"reText(row.id)\">测试</span>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>  \n\t\t\t\t\t<el-table-column\n\t\t\t\t\t\tlabel=\"在线情况\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<template slot-scope=\"{ row }\">\n\t\t\t\t\t\t\t<div :class=\"waterRowClassName(row)\">\n\t\t\t\t\t\t\t\t{{row.onlineStatus}}\n\t\t\t\t\t\t\t\t<span class=\"waterDetail\" @click.stop=\"$router.push({\n\t\t\t\t\t\t\t\t\tpath:'/offlineRecord',\n\t\t\t\t\t\t\t\t\tquery:{deviceId:row.id}\n\t\t\t\t\t\t\t\t})\">离线记录</span>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>  \n\t\t\t\t\t\n\t\t\t\t\t<el-table-column\t\n\t\t\t\t\t\tlabel=\"操作\"\n\t\t\t\t\t\twidth=\"250px\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<template slot-scope=\"command\">\n\t\t\t\t\t\t\t<!-- <el-button  type=\"text\" size=\"small\" @click.stop=\"reText(command.row.id)\">轮询测试</el-button> -->\n\t\t\t\t\t\t\t<el-button  type=\"text\" size=\"small\" v-if=\"command.row.test=='已测试'\" @click.stop=\"upload(command.row.id)\">上报数据</el-button>\n\t\t\t\t\t\t\t<el-button  type=\"text\" size=\"small\" @click.stop=\"remove(command.row.id,command.$index,tableData)\">移除</el-button>\n\t\t\t\t\t\t\t<el-button  type=\"text\" size=\"small\" @click.stop=\"$refs.edition.show(command.row)\">详细数据</el-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t</el-table>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t\n\t  </div>\n\n\t  <edit ref=\"edition\" ></edit>\n  </div>\n</template>\n\n<script>\nconst PAGESIZE =null  \nimport invented from '../invented/invented.vue'\nimport QR from '@/components/QR/QR.vue'\nimport store from '@/store/index.js'\nimport more from '@/components/list/watermeterDetail/more.vue'\nimport BScroll from 'better-scroll'\nimport edit from './edit.vue'\nexport default {\n  components:{\n\t  invented,\n\t  QR,\n\t  more,\n\t  edit\n  },\n  props:{},\n  data(){\n    return {\n\t\tisDown:false,\n\t\t// isUp:false,\n\t\t// isEnd:false,\n\t\tpageNum:null,\n\t\tcheckList:[],\n\t\tcollectoWrapper:null,\n\t\tSelectionArray:[],//批量操作所选择的设备\n\t\t// batchProcessing:false,\n\t\tpollingTabs:\"first\",  \n\t\twatermeterdeviceNum:'',  //当前操作的水表编号\n\t\toneData:'',\n\t\ttableData: [],\n\t\toffLineSum:0,\n\t\tonLineSum:0,\n    }\n  },\n  filters:{\n\t  filtTableData:function(data,check){  //oneData变化的时候也会触发，原因不明\n\t\t  if(check.length==1){\n\t\t\tlet array=[]\n\t\t\tfor(let val of data){\n\t\t\t\tif(val.onlineStatus==check[0]){\n\t\t\t\t\tarray.push(val)\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn array\n\t\t  }else{\n\t\t\t  return data\n\t\t  }\n\n\t\t\n\t  }\n  },\n  computed:{\n\t\tqrId:function(){\n\t\t\treturn this.$store.state.qrId\n\t\t},\n\t},\n\t\t\n  watch:{\n\tqrId(newdata){\n\t\tthis.oneData=newdata\n\t},\n\t\n  },\n  methods:{\n\t//   isbatchProcessing(){\n\t// \t  this.batchProcessing=true\n\t// \t  this.$refs.moreOperation.cancle()\n\t//   },\n\t  hideMenu(){\n\t\t\tthis.$refs.waterMenu.classList.toggle('isShow')\n\t\t},\n\t  waterRowClassName(row){\n            if (row.onlineStatus == '在线') {\n                return 'onlineSingle';\n            } else if (row.onlineStatus == '离线') {\n                return 'offlineSingle';\n            }\n\t  },\n\t  initScroll(Obj,SCobj){\n\t\t\t\tif( !Obj ){\n\t\t\t\t\t\n\t\t// this.$refs.wrapperContent.style.minHeight=`${this.$refs.collectorScroll.offsetHeight+1}px`\n\t\t\t\tObj = new BScroll(SCobj,{\n\t\t\t\t\tscrollX:true,\n\t\t\t\t\t\t\t\tclick:true,\n\t\t\t\t\t\t\t\tdirectionLockThreshold:5,\n\t\t\t\t\t// pullUpLoad:{\n\t\t\t\t\t// threshold: -50,\n\t\t\t\t\t// },\n\t\t\t\t\tpullDownRefresh:{\n\t\t\t\t\tthreshold: 55,\n\t\t\t\t\ttxt:'刷新'\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tObj.on('scroll',(pos)=>{\n\t\t\t\t\tif(!this.isDown){\n\t\t\t\t\t\tthis.$refs.isDown.style.transform=`translate(0,${pos.y-40}px)`\n\t\t\t\t\t\t\n\t\t\t\t\t}else if(this.isDown){\n\t\t\t\t\t\tthis.$refs.freshing.style.transform=`translate(0,20px)`\n\t\t\t\t\t}else if(this.isUp){\n\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t\t// Obj.on('pullingUp',()=>{\n\t\t\t\t// \tthis.isUp=true\n\t\t\t\t\t\n\t\t\t\t// \tthis.pageNum++\n\t\t\t\t// \tthis.oneData=null\n\t\t\t\t// \tthis.getListDataFromNet(this.pageNum, (arr) => {\n\t\t\t\t// \t\tconsole.log(arr)\n\t\t\t\t// \t\tif(arr.length==0) this.isEnd=true\n\t\t\t\t\t\t\n\t\t\t\t// \t\tthis.tableData.push(...arr)\n\t\t\t\t// \t\tthis.isUp=false\n\t\t\t\t// \t\tObj.refresh()\n\t\t\t\t// \t\tObj.finishPullUp();\n\t\t\t\t\t\t\n\n\t\t\t\t// \t})\n\t\t\t\t// })\n\t\t\t\tObj.on('pullingDown',()=>{\n\t\t\t\t\tconsole.log(Obj)\n\t\t\t\t\tthis.isDown=true\n\t\t\t\t\t// this.pageNum=1\n\t\t\t\t\tthis.getListDataFromNet(this.pageNum, (arr) => {\n\t\t\t\t\t\tthis.tableData=[]\n\t\t\t\t\t\tthis.tableData.push(...arr)\n\t\t\t\t\t\tthis.isDown=false\n\t\t\t\t\t\tObj.refresh()\n\t\t\t\t\t\tObj.finishPullDown();\n\t\t\t\t\t\tif(!arr.length>0){\n\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\t\tObj.refresh() \n\t\t\t\t}\n\t\t},\n\t  getListDataFromNet (pageNum,successCallback) {\n\t  // 延时一秒,模拟联网\n\t  \n      setTimeout(() => {\n\t\t\t\tif(this.oneData){\n\t\t\t\t\tthis.searchData(pageNum,this.oneData)\n\t\t\t\t\t.then(res=>{\n\t\t\t\t\t\tsuccessCallback(res)\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tthis.searchData(pageNum)\n\t\t\t\t\t.then(res=>{\n\t\t\t\t\t\tsuccessCallback(res)\n\t\t\t\t\t})\n\t\t\t\t}\n        \n      }, 1000)\n    },\n\t  checkOnline(status){\n\t\t  if(status==this.checkList[0]){\n\t\t\t  return true\n\t\t  }else if(this.checkList.length>1||this.checkList.length==0){\n\t\t\t  return true\n\t\t  }\n\t\t \n\t  },\n\t  testStyle(row) {\n        if (row.row.onlineStatus == \"离线\") {\n          return 'warning-row';\n        }else if(row.row.onlineStatus == \"在线\"){\n\t\t\treturn 'success-row';\n\t\t} \n\t  },\n\t  //批量操作\n\t  collectorSelectionChange(val){\n\t\t this.SelectionArray=val\n\t  },\n\t  //点击表内元素跳转水表列表\n\t  collectClick(row, event, column){\n\t\tif(!this.batchProcessing){\n\t\t\tconsole.log(row)\n\t\t\tthis.$router.push({\n\t\t\t\t\tpath:'/watermeterDetail',\n\t\t\t\t\tquery:{deviceNum:row.id,pid:row.provinceId,cid:row.cityId,did:row.districtId}\n\t\t\t\t})\n\t\t}\n\t\t},\n\t  //重新轮询测试\n\t  reText(cid){\n\t\tthis.$confirm('是否进行轮询测试','提示',{\n\t\t\tconfirmButtonText: '确定',\n\t\t\t  cancelButtonText: '取消',\n\t\t\t  beforeClose:(action,instance,done)=>{\n\t\t\t\t  if (action === 'confirm') {\n\t\t\t\t\tinstance.confirmButtonLoading = true;\n\t\t\t\t\tinstance.confirmButtonText = '执行中...';\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.$http.get('/weiXin/api/v1/deviceManager/pollingTest',{\n\t\t\t\t\t\tdeviceNum:cid\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(res=>{\n\t\t\t\t\t\t\tinstance.confirmButtonLoading = false;\n\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\tdone()\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tinstance.confirmButtonText = '确定';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t},2000)\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tdone();\n\t\t\t\t\t}\n\t\t\t  }\n\t\t})\n\t\t.then(res=>{\n\t\t\tthis.$http.get('/weiXin/api/v1/deviceManager/queryAll',{deviceNum:cid})\n\t\t\t.then(res=>{\n\t\t\t\tif(res){\n\t\t\t\t\tthis.$message({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tmessage: '测试已提交'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\t.catch(err=>{\n\n\t\t})\n\t\t  \n\t  },\n\t  //上报数据\n\t  upload(cid){\n\t\t  this.$confirm('是否上报轮询测试数据','提示',{\n\t\t\tconfirmButtonText: '确定',\n\t\t\t  cancelButtonText: '取消',\n\t\t\t  beforeClose:(action,instance,done)=>{\n\t\t\t\t  if (action === 'confirm') {\n\t\t\t\t\tinstance.confirmButtonLoading = true;\n\t\t\t\t\tinstance.confirmButtonText = '执行中...';\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.$http.get('/weiXin/api/v1/deviceManager/queryAll',{deviceNum:cid})\n\t\t\t\t\t\t.then(res=>{\n\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\tdone()\n\t\t\t\t\t\t\t\tinstance.confirmButtonLoading = false\n\t\t\t\t\t\t\t\tinstance.confirmButtonText = '确定';\n\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\tmessage: '数据已上报'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdone()\n\t\t\t\t\t\t\t\tinstance.confirmButtonLoading = false\n\t\t\t\t\t\t\t\tinstance.confirmButtonText = '确定';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t},2000)\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tdone();\n\t\t\t\t\t}\n\t\t\t  }\n\t\t})\n\t\t.then(res=>{\n\t\t\t\n\t\t})\n\t\t.catch(err=>{\n\n\t\t})\n\t  },\n\t  //移除采集器\n\t  remove(cid,index,table){\n\t\tthis.$confirm('是否移除该采集器','提示',{\n\t\t\tconfirmButtonText: '确定',\n\t\t\tcancelButtonText: '取消',\n\t\t\tbeforeClose:(action,instance,done)=>{\n\t\t\t\tif (action === 'confirm') {\n\t\t\t\t\tthis.$http.get('/weiXin/api/v1/deviceMend/deleteDevice',{\n\t\t\t\t\t\tdeviceNum:cid,\n\t\t\t\t\t\tdeviceType:2\n\t\t\t\t\t})\n\t\t\t\t\t.then(res=>{\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\ttable.splice(index, 1);\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t} \n\t\t\t\telse {\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t}\t\n\t\t})\n\t\t\t\n\t\t\n\t  },\n\t  //请求所有数据\n\t  searchData(num,onedata){\n\t\treturn new Promise(resolve=>{\n\t\t\tthis.$http.post('/weiXin/api/v1/deviceManager/getListDeviceBySearch',{\n                \"collectorSearchField\":this.deviceNum,\n                \"pageNum\": num,\n                \"pageSize\": PAGESIZE,\n                \"searchField\":onedata,\n                \"type\": 2,},{\n                  'Content-Type': 'application/json;'\n              },true)\n\t\t\t  .then(res=>{\n\t\t\t\t  if(res){\n\t\t\t\t\t  \n\t\t\t\t\t  this.onLineSum=res.data.data.onLineSum\n\t\t\t\t\t  this.offLineSum=res.data.data.offLineSum\n                      let Obj = res.data.data.list.map(val=>{\n\t\t\t\t\t\t  \n\t\t\t\t\t\t  return {\n\t\t\t\t\t\t\t\t...val,\n\t\t\t\t\t\t\t  id:val.deviceNumber,\n\t\t\t\t\t\t\t  waterNum:val.generalQuantitySum,\n\t\t\t\t\t\t\t  test:(val.pollingTest==0&&\"未测试\")||(val.pollingTest==1&&\"已测试\")||(val.pollingTest==2&&\"离线\")||(val.pollingTest==3&&\"测试中\"),\n\t\t\t\t\t\t\t  onlineStatus:val.onlineStatus==1?'在线':'离线',\n\t\t\t\t\t\t\t  completeDistrict:val.completeDistrict,\n\t\t\t\t\t\t\t  houseNumber:val.houseNumber,\n\t\t\t\t\t\t\t\tdistrictSite:val.districtSite,\n\t\t\t\t\t\t\t\tdeviceType:2,\n\t\t\t\t\t\t\t\tsignalIntensity:val.signalIntensity,\n\t\t\t\t\t\t\t\tbaseStation:val.baseStation,\n\t\t\t\t\t\t\t} \n\t\t\t\t\t  })\n\t\t\t\t\t\tObj.sort((a,b)=>{\n                          return a.id-b.id\n                      })\n\n\t\t\t\t\t  \n                      resolve(Obj)  \n                  }\n                  \n\t\t\t  })\n\t\t\t  .catch(err=>{\n\t\t\t  })\n\t\t})\n\t  },\n\t  //点击查询\n\t  searchoneData(){\n\t\t  if(this.oneData){\n              //让分页num=1\n\t\t\t// this.pageNum=1\n\t\t\tthis.searchData(this.pageNum,this.oneData)\n            .then((res)=>{\n\t\t\t\tthis.tableData=[...res]\n\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\tthis.initScroll(this.collectoWrapper,this.$refs.collectorScroll)\n\t\t\t\t})\n\t\t\t})\n\t\t  }else{\n\t\t\t  //未输入id\n\t\t  }\n\t  },\n\t  watermeterSwitch($event,num,val){\n\t\t  console.log(val)\n\t\t  this.watermeterdeviceNum=num\n\t\t  this.meterSwitch=true\n\t\t  this.radioSwitch=val\n\t\t\n\t  },\n\t//   quitBatch(){\n\t// \t  this.batchProcessing=false\n    //     \tthis.$refs.multipleTable.clearSelection()\n\t//   }\n  },\n  created(){},\n  mounted(){\n\t\tif(this.$route.query.id){\n          this.oneData=this.$route.query.id\n          this.searchoneData()\n\t\t}else{\n\t\t\tthis.searchData(this.pageNum)\n\t\t\t.then((res)=>{\n\t\t\t\tthis.tableData.push(...res)\n\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\tthis.initScroll(this.collectoWrapper,this.$refs.collectorScroll)\n\t\t\t\t})\n\t\t\t})\n\n\t\t}\n  },\n}\n</script>\n<style  lang=\"less\">\n#coloterManage{\n\toverflow: hidden;\n\tbackground: #f8f8f8;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n\t>header{\n\t\tbackground: #747776;\n\t\tposition: relative;\n\t\tline-height: 40px;\n\t\twidth: 100%;\n\t\tmargin-bottom: 10px;\n\t\t.water-menu{\n\t\t\toverflow: hidden;\n\t\t\theight: 90px;\n\t\t\ttransition:height 0.3s ease-in-out;\n\t\t}\n\t\t.isShow{\n\t\t\theight:0px;\n\t\t}\n\t\t.qrSearch{\n\t\t\twidth:80%;\n\t\t\tposition: relative;\n\t\t\tline-height: 40px;\n\t\t\tmargin: auto;\n\t\t}\n\t\t.header-title{\n\t\t\ttext-align: center;\n\t\t\theight: 40px;\n\t\t\tspan{\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tcolor: #f8f8f8;\n\t\t\t}\n\t\t\tbutton{\n\t\t\tpadding: 0 15px 0 10px;\n\t\t\theight: 40px;\n\t\t\t}\n\t\t\t.addColltector{\n\t\t\t\ttext-align: right;\n\t\t\t\tpadding-right: 15px;\n\t\t\t\tli{\n                   \n                    border-bottom: 1px solid #747776;\n                    margin:0 10px; \n                }\n                li:last-child{\n                    border: 0;\n                }\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t.head-check{\n\t\t\twidth: 80%;\n\t\t\tmargin:0 auto;\n\t\t\tspan{\n\t\t\t\tcolor: #ebeef5;\n\t\t\t}\n\t\t}\n\t\t.idSearch{\n\t\t\t\twidth: 100%;\n\t\t}\n\n\t\t.searchConfirm{\n\t\t\t\n\t\t\twidth: 100px;\n\t\t\tmargin:5px 0 5px 0px;;\n\t\t}\n\t\t.el-checkbox-group{\n\t\t\tmargin-top: 5px;\n\t\t\tmargin-bottom: 5px;\n\t\t}\n\n\t}\n\t.block{\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\ttext-align: center;\n\t\tpadding: 0 10px 0 10px;\n\t\t// .mescroll{\n\t\t// \theight: auto;/*如设置bottom:50px,则需height:auto才能生效*/\n\t\t// }\n\t\t.collector-item{\n\t\t\tbackground-color: #fff;\n\t\t\tpadding: 5px;\n\t\t\tcolor: #303133;\n\t\t\tmargin-bottom: 10px;\n\t\t\tcursor: pointer;\n\t\t\tborder-bottom: 1px solid #ebeef5;\n\t\t\tfont-size: 13px;\n\t\t\tfont-weight: 500;\n\t\t\toutline: none;\n\t\t\tborder-radius: 5px;\n\t\t\t.collector-header{\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t}\n\t\t\t.collector-operate{\n\t\t\t\ttext-align: right;\n\t\t\t}\n\t\t\t.collector-detail {\n\t\t\t\tpadding-right: 20px;\n\t\t\t\tli{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: left;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbutton{\n\t\t\t\tcolor:#5287f1;\n\t\t\t}\n\t\t}\n\t\t\n\n\t}\n\t.searchResult{\n\t\ttext-align: left;\n\t\tbutton{\n\t\t\tcolor:#5287f1;\n\t\t}\n\t\t.waterDetail{\n\t\t\tfloat: right;\n\t\t\tcolor:#5287f1;\n\t\t\tcursor: pointer;\n\t\t\t\n\t\t}\n\t\t.onlineSingle{\n            // color: #4ac959;\n        }\n        .offlineSingle{\n            color: red;\n        }\n\t}\n\t.warning-row{\n\t\tcolor: #606266\n\t}\n\t.success-row{\n\t\tcolor: #0b770b;\n\t}\n\t.el-table__expanded-cell{\n\t\tpadding: 0;\n\t}\n\t.watermeterTable{\n\t\tcolor: #606266;\n\t\tbutton{\n\t\t\tcolor:#5287f1;\n\t\t}\n\t}\n\t.el-tabs{\n\t\tmargin-bottom: 40px;\n\t}\n\t.Wrapper{\n\t\theight: 90%;\n\t\t>div{\n\t\t\tmin-height: calc(100% + 1px);\n            width: 1360px;\n\t\t}\n\t}\n\t.isDown{\n\t\ttransform:translate(0,-40px)\n\t}\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/list/coloterManage/coloterManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"coloterManage\"}},[_c('header',[_c('el-row',{staticClass:\"header-title\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-arrow-left\"},on:{\"click\":function($event){_vm.$router.push('./nav')}}},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('span',[_vm._v(_vm._s(this.title))])]),_vm._v(\" \"),_c('el-col',{staticClass:\"addColltector\",attrs:{\"span\":4}},[_c('more',{ref:\"moreOperation\"},[_c('ul',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('li',{on:{\"click\":function($event){_vm.$router.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath:'/collector',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery:{'type':2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}}},[_vm._v(\"添加采集器\")]),_vm._v(\" \"),_c('li',{on:{\"click\":_vm.hideMenu}},[_vm._v(\"菜单栏\")])])])],1)],1),_vm._v(\" \"),_c('div',{ref:\"waterMenu\",staticClass:\"water-menu\"},[_c('div',{staticClass:\"qrSearch\"},[_c('el-input',{staticClass:\"idSearch\",attrs:{\"placeholder\":\"编号/小区/门牌号\"},model:{value:(_vm.oneData),callback:function ($$v) {_vm.oneData=$$v},expression:\"oneData\"}}),_vm._v(\" \"),_c('QR')],1),_vm._v(\" \"),_c('el-row',{staticClass:\"head-check\"},[_c('el-col',{attrs:{\"span\":18}},[_c('el-checkbox-group',{model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},[_c('el-checkbox',{attrs:{\"label\":\"在线\"}},[_vm._v(\"在线：\"+_vm._s(_vm.onLineSum))]),_vm._v(\" \"),_c('el-checkbox',{attrs:{\"label\":\"离线\"}},[_vm._v(\"离线：\"+_vm._s(_vm.offLineSum))])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{staticClass:\"searchConfirm\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.searchoneData}},[_vm._v(\"查询\")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"block \"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isDown),expression:\"!isDown\"}],ref:\"isDown\",staticClass:\"isDown\"},[_vm._v(\"刷新数据\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDown),expression:\"isDown\"}],ref:\"freshing\"},[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\"刷新中\")]),_vm._v(\" \"),_c('div',{ref:\"collectorScroll\",staticClass:\"Wrapper\"},[_c('div',{ref:\"wrapperContent\"},[_c('el-table',{ref:\"multipleTable\",staticClass:\"searchResult\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"border\":\"\",\"data\":_vm._f(\"filtTableData\")(_vm.tableData,_vm.checkList)},on:{\"selection-change\":_vm.collectorSelectionChange}},[_c('el-table-column',{attrs:{\"label\":_vm._f(\"filtTableData\")(_vm.tableData,_vm.checkList) .length.toString(),\"width\":\"40\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar $index = ref.$index;\nreturn [_vm._v(\"\\n                           \"+_vm._s($index+1)+\" \\n                    \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"采集器编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"districtDetail\",\"label\":\"详细地址\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"districtSite\",\"label\":\"小区\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"houseNumber\",\"label\":\"具体位置\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"水表数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar row = ref.row;\nreturn [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(row.waterNum)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_c('span',{staticClass:\"waterDetail\",on:{\"click\":function($event){$event.stopPropagation();_vm.collectClick(row)}}},[_vm._v(\"详情\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"轮询测试\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar row = ref.row;\nreturn [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(row.test)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_c('span',{staticClass:\"waterDetail\",on:{\"click\":function($event){$event.stopPropagation();_vm.reText(row.id)}}},[_vm._v(\"测试\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"在线情况\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar row = ref.row;\nreturn [_c('div',{class:_vm.waterRowClassName(row)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(row.onlineStatus)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_c('span',{staticClass:\"waterDetail\",on:{\"click\":function($event){$event.stopPropagation();_vm.$router.push({\n\t\t\t\t\t\t\t\t\tpath:'/offlineRecord',\n\t\t\t\t\t\t\t\t\tquery:{deviceId:row.id}\n\t\t\t\t\t\t\t\t})}}},[_vm._v(\"离线记录\")])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"250px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(command){return [(command.row.test=='已测试')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();_vm.upload(command.row.id)}}},[_vm._v(\"上报数据\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();_vm.remove(command.row.id,command.$index,_vm.tableData)}}},[_vm._v(\"移除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();_vm.$refs.edition.show(command.row)}}},[_vm._v(\"详细数据\")])]}}])})],1)],1)])]),_vm._v(\" \"),_c('edit',{ref:\"edition\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-749a7dfc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/list/coloterManage/coloterManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-749a7dfc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./coloterManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coloterManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-749a7dfc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./coloterManage.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/list/coloterManage/coloterManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}